

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Generating the documentation &mdash; Intel® Low Precision Optimization Tool  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Intel® Low Precision Optimization Tool
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../welcome.html">Introduction to Intel LPOT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/introduction.html">APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../readme.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/doclist.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../releases-info.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../CONTRIBUTING.html">Contributing Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../CODE_OF_CONDUCT.html">Contributor Covenant Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../legal_information.html">Legal Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../SECURITY.html">Security Policy</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Intel® Low Precision Optimization Tool</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Generating the documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/examples/pytorch/huggingface_models/docs/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!---
Copyright 2020 The HuggingFace Team. All rights reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--><div class="section" id="generating-the-documentation">
<h1>Generating the documentation<a class="headerlink" href="#generating-the-documentation" title="Permalink to this headline">¶</a></h1>
<p>To generate the documentation, you first have to build it. Several packages are necessary to build the doc,
you can install them with the following command, at the root of the code repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -e <span class="s2">&quot;.[docs]&quot;</span>
</pre></div>
</div>
<hr class="docutils" />
<p><strong>NOTE</strong></p>
<p>You only need to generate the documentation to inspect it locally (if you’re planning changes and want to
check how they look like before committing for instance). You don’t have to commit the built documentation.</p>
<hr class="docutils" />
<div class="section" id="packages-installed">
<h2>Packages installed<a class="headerlink" href="#packages-installed" title="Permalink to this headline">¶</a></h2>
<p>Here’s an overview of all the packages installed. If you ran the previous command installing all packages from
<code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>, you do not need to run the following commands.</p>
<p>Building it requires the package <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> that you can
install using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -U sphinx
</pre></div>
</div>
<p>You would also need the custom installed <a class="reference external" href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> by
<a class="reference external" href="https://readthedocs.org/">Read The Docs</a>. You can install it using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install sphinx_rtd_theme
</pre></div>
</div>
<p>The third necessary package is the <code class="docutils literal notranslate"><span class="pre">recommonmark</span></code> package to accept Markdown as well as Restructured text:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install recommonmark
</pre></div>
</div>
</div>
<div class="section" id="building-the-documentation">
<h2>Building the documentation<a class="headerlink" href="#building-the-documentation" title="Permalink to this headline">¶</a></h2>
<p>Once you have setup <code class="docutils literal notranslate"><span class="pre">sphinx</span></code>, you can build the documentation by running the following command in the <code class="docutils literal notranslate"><span class="pre">/docs</span></code> folder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make html
</pre></div>
</div>
<p>A folder called <code class="docutils literal notranslate"><span class="pre">_build/html</span></code> should have been created. You can now open the file <code class="docutils literal notranslate"><span class="pre">_build/html/index.html</span></code> in your
browser.</p>
<hr class="docutils" />
<p><strong>NOTE</strong></p>
<p>If you are adding/removing elements from the toc-tree or from any structural item, it is recommended to clean the build
directory before rebuilding. Run the following command to clean and build:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make clean <span class="o">&amp;&amp;</span> make html
</pre></div>
</div>
<hr class="docutils" />
<p>It should build the static app that will be available under <code class="docutils literal notranslate"><span class="pre">/docs/_build/html</span></code></p>
</div>
<div class="section" id="adding-a-new-element-to-the-tree-toc-tree">
<h2>Adding a new element to the tree (toc-tree)<a class="headerlink" href="#adding-a-new-element-to-the-tree-toc-tree" title="Permalink to this headline">¶</a></h2>
<p>Accepted files are reStructuredText (.rst) and Markdown (.md). Create a file with its extension and put it
in the source directory. You can then link it to the toc-tree by putting the filename without the extension.</p>
</div>
<div class="section" id="preview-the-documentation-in-a-pull-request">
<h2>Preview the documentation in a pull request<a class="headerlink" href="#preview-the-documentation-in-a-pull-request" title="Permalink to this headline">¶</a></h2>
<p>Once you have made your pull request, you can check what the documentation will look like after it’s merged by
following these steps:</p>
<ul class="simple">
<li><p>Look at the checks at the bottom of the conversation page of your PR (you may need to click on “show all checks” to
expand them).</p></li>
<li><p>Click on “details” next to the <code class="docutils literal notranslate"><span class="pre">ci/circleci:</span> <span class="pre">build_doc</span></code> check.</p></li>
<li><p>In the new window, click on the “Artifacts” tab.</p></li>
<li><p>Locate the file “docs/_build/html/index.html” (or any specific page you want to check) and click on it to get a
preview.</p></li>
</ul>
</div>
<div class="section" id="writing-documentation-specification">
<h2>Writing Documentation - Specification<a class="headerlink" href="#writing-documentation-specification" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">huggingface/transformers</span></code> documentation follows the
<a class="reference external" href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">Google documentation</a> style. It is
mostly written in ReStructuredText
(<a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/index.html">Sphinx simple documentation</a>,
<a class="reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html">Sourceforge complete documentation</a>).</p>
<div class="section" id="adding-a-new-tutorial">
<h3>Adding a new tutorial<a class="headerlink" href="#adding-a-new-tutorial" title="Permalink to this headline">¶</a></h3>
<p>Adding a new tutorial or section is done in two steps:</p>
<ul class="simple">
<li><p>Add a new file under <code class="docutils literal notranslate"><span class="pre">./source</span></code>. This file can either be ReStructuredText (.rst) or Markdown (.md).</p></li>
<li><p>Link that file in <code class="docutils literal notranslate"><span class="pre">./source/index.rst</span></code> on the correct toc-tree.</p></li>
</ul>
<p>Make sure to put your new file under the proper section. It’s unlikely to go in the first section (<em>Get Started</em>), so
depending on the intended targets (beginners, more advanced users or researchers) it should go in section two, three or
four.</p>
</div>
<div class="section" id="adding-a-new-model">
<h3>Adding a new model<a class="headerlink" href="#adding-a-new-model" title="Permalink to this headline">¶</a></h3>
<p>When adding a new model:</p>
<ul class="simple">
<li><p>Create a file <code class="docutils literal notranslate"><span class="pre">xxx.rst</span></code> under <code class="docutils literal notranslate"><span class="pre">./source/model_doc</span></code> (don’t hesitate to copy an existing file as template).</p></li>
<li><p>Link that file in <code class="docutils literal notranslate"><span class="pre">./source/index.rst</span></code> on the <code class="docutils literal notranslate"><span class="pre">model_doc</span></code> toc-tree.</p></li>
<li><p>Write a short overview of the model:</p>
<ul>
<li><p>Overview with paper &amp; authors</p></li>
<li><p>Paper abstract</p></li>
<li><p>Tips and tricks and how to use it best</p></li>
</ul>
</li>
<li><p>Add the classes that should be linked in the model. This generally includes the configuration, the tokenizer, and
every model of that class (the base model, alongside models with additional heads), both in PyTorch and TensorFlow.
The order is generally:</p>
<ul>
<li><p>Configuration,</p></li>
<li><p>Tokenizer</p></li>
<li><p>PyTorch base model</p></li>
<li><p>PyTorch head models</p></li>
<li><p>TensorFlow base model</p></li>
<li><p>TensorFlow head models</p></li>
</ul>
</li>
</ul>
<p>These classes should be added using the RST syntax. Usually as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">XXXConfig</span>
<span class="o">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">transformers</span><span class="o">.</span><span class="n">XXXConfig</span>
    <span class="p">:</span><span class="n">members</span><span class="p">:</span>
</pre></div>
</div>
<p>This will include every public method of the configuration that is documented. If for some reason you wish for a method
not to be displayed in the documentation, you can do so by specifying which methods should be in the docs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">XXXTokenizer</span>
<span class="o">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="o">..</span> <span class="n">autoclass</span><span class="p">::</span> <span class="n">transformers</span><span class="o">.</span><span class="n">XXXTokenizer</span>
    <span class="p">:</span><span class="n">members</span><span class="p">:</span> <span class="n">build_inputs_with_special_tokens</span><span class="p">,</span> <span class="n">get_special_tokens_mask</span><span class="p">,</span>
        <span class="n">create_token_type_ids_from_sequences</span><span class="p">,</span> <span class="n">save_vocabulary</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-source-documentation">
<h3>Writing source documentation<a class="headerlink" href="#writing-source-documentation" title="Permalink to this headline">¶</a></h3>
<p>Values that should be put in <code class="docutils literal notranslate"><span class="pre">code</span></code> should either be surrounded by double backticks: ``like so`` or be written as
an object using the :obj: syntax: :obj:`like so`. Note that argument names and objects like True, None or any strings
should usually be put in <code class="docutils literal notranslate"><span class="pre">code</span></code>.</p>
<p>When mentionning a class, it is recommended to use the :class: syntax as the mentioned class will be automatically
linked by Sphinx: :class:`~transformers.XXXClass`</p>
<p>When mentioning a function, it is recommended to use the :func: syntax as the mentioned function will be automatically
linked by Sphinx: :func:`~transformers.function`.</p>
<p>When mentioning a method, it is recommended to use the :meth: syntax as the mentioned method will be automatically
linked by Sphinx: :meth:`~transformers.XXXClass.method`.</p>
<p>Links should be done as so (note the double underscore at the end): `text for the link &lt;./local-link-or-global-link#loc&gt;`__</p>
<div class="section" id="defining-arguments-in-a-method">
<h4>Defining arguments in a method<a class="headerlink" href="#defining-arguments-in-a-method" title="Permalink to this headline">¶</a></h4>
<p>Arguments should be defined with the <code class="docutils literal notranslate"><span class="pre">Args:</span></code> prefix, followed by a line return and an indentation.
The argument should be followed by its type, with its shape if it is a tensor, and a line return.
Another indentation is necessary before writing the description of the argument.</p>
<p>Here’s an example showcasing everything so far:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    Args:
        input_ids (:obj:`torch.LongTensor` of shape :obj:`(batch_size, sequence_length)`):
            Indices of input sequence tokens in the vocabulary.

            Indices can be obtained using :class:`~transformers.AlbertTokenizer`.
            See :meth:`~transformers.PreTrainedTokenizer.encode` and
            :meth:`~transformers.PreTrainedTokenizer.__call__` for details.

            `What are input IDs? &lt;../glossary.html#input-ids&gt;`__
</pre></div>
</div>
<p>For optional arguments or arguments with defaults we follow the following syntax: imagine we have a function with the
following signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
</pre></div>
</div>
<p>then its documentation should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    Args:
        x (:obj:`str`, `optional`):
            This argument controls ...
        a (:obj:`float`, `optional`, defaults to 1):
            This argument is used to ...
</pre></div>
</div>
<p>Note that we always omit the “defaults to :obj:`None`” when None is the default for any argument. Also note that even
if the first line describing your argument type and its default gets long, you can’t break it on several lines. You can
however write as many lines as you want in the indented description (see the example above with <code class="docutils literal notranslate"><span class="pre">input_ids</span></code>).</p>
</div>
<div class="section" id="writing-a-multi-line-code-block">
<h4>Writing a multi-line code block<a class="headerlink" href="#writing-a-multi-line-code-block" title="Permalink to this headline">¶</a></h4>
<p>Multi-line code blocks can be useful for displaying examples. They are done like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Example</span><span class="p">::</span>

    <span class="c1"># first line of code</span>
    <span class="c1"># second line</span>
    <span class="c1"># etc</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Example</span></code> string at the beginning can be replaced by anything as long as there are two semicolons following it.</p>
<p>We follow the <a class="reference external" href="https://docs.python.org/3/library/doctest.html">doctest</a> syntax for the examples to automatically test
the results stay consistent with the library.</p>
</div>
<div class="section" id="writing-a-return-block">
<h4>Writing a return block<a class="headerlink" href="#writing-a-return-block" title="Permalink to this headline">¶</a></h4>
<p>Arguments should be defined with the <code class="docutils literal notranslate"><span class="pre">Args:</span></code> prefix, followed by a line return and an indentation.
The first line should be the type of the return, followed by a line return. No need to indent further for the elements
building the return.</p>
<p>Here’s an example for tuple return, comprising several objects:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    Returns:
        :obj:`tuple(torch.FloatTensor)` comprising various elements depending on the configuration (:class:`~transformers.BertConfig`) and inputs:
        loss (`optional`, returned when ``masked_lm_labels`` is provided) ``torch.FloatTensor`` of shape ``(1,)``:
            Total loss as the sum of the masked language modeling loss and the next sequence prediction (classification) loss.
        prediction_scores (:obj:`torch.FloatTensor` of shape :obj:`(batch_size, sequence_length, config.vocab_size)`)
            Prediction scores of the language modeling head (scores for each vocabulary token before SoftMax).
</pre></div>
</div>
<p>Here’s an example for a single value return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    Returns:
        :obj:`List[int]`: A list of integers in the range [0, 1] --- 1 for a special token, 0 for a sequence token.
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Intel® LPOT.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>